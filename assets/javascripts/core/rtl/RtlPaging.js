!function(e,t){"use strict";var n=function(e){var t=this;if(!e&&e.constructor!=Object)throw new Error("The options parameter is a must and must be a Object");if(!e.el)throw new Error("The el parameter is a must");if(!e.callback||e.callback.constructor!=Function)throw new Error("The callback parameter is a must");if("S"==e.multi&&(!e.multiCallback||e.multiCallback.constructor!=Function))throw new Error("The select box request multiCallback function");t.options={elId:e.el,desc:e.desc||"",descCount:/^[0-9]*$/.test(e.descCount)?e.descCount:0,elNode:null,page:e.page||1,size:e.size||1,step:e.step||2,callback:e.callback,multi:e.multi||"",multiCallback:e.multiCallback||"",multiCheck:e.multiCheck||0,multiDegrees:/^[0-9]*$/.test(e.multiDegrees)?e.multiDegrees:10,cls:t._styles(),counter:0},t._nodeReady(function(e){t.options.elNode=e,t._init(),t._bindEvent()})};n.prototype={_nodeReady:function(e){var n=this,i=n.options;setTimeout(function(){var a=null;if(a=0===i.elId.indexOf(".")?t(i.elId)[0]:document.getElementById(i.elId))i.counter=0,e(a);else{if(i.counter>50)throw i.counter=0,new Error("The el must be a element id and must be exist");n._nodeReady(),i.counter++}},50)},_styles:function(){var e={};return e.bodyCls="position: relative; margin: 0 auto; padding: 0; font-family: 'Microsoft YaHei','微软雅黑'; text-align: center;",e.boxCls="display: inline-block; vertical-align: bottom; height: 30px; line-height: 30px; margin: 20px 0; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none;",e.descSCls="position: relative; top: 7px; font-size: 14px; margin-right: 10px; color: #666;",e.mainPNCls="position: relative; padding: 4px 12px; margin-left: 10px; color: #666; height: 30px; line-height: 1.42857143; min-width: 40px; display: inline-block; text-decoration: none; background: #f6f8fa; border: #F6F8FA solid 1px; border-radius: 4px; float: none; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: pointer;",e.mainPNDISCls="color: #D8E2E7; cursor: not-allowed;",e.mainGOTCls="background-color: transparent; border-color: transparent; padding: 0; line-height: 30px;",e.mainGOICls="position: relative; padding: 4px 12px; margin-left: 0px; color: #666; height: 30px; line-height: 1.42857143; width: 70px; display: inline-block; text-decoration: none; border: #e6eaee solid 1px; border-radius: 4px; float: none; background-color: #fff;",e.mainSELECTCls="padding-left: 5px;",e.mainGOBCls="width: 40px; padding: 4px 0px; border: solid 1px #005bac; background-color: #f6f8fa; color: #005bac; cursor: pointer;",e.multiDCls="margin-right: 5px; margin-left: 5px;",e.multiDFCls="margin-right: 5px; margin-left: 20px;",e.mainPNSCls="background: #F6F8FA; color: #005BAC; border: #005BAC solid 1px;",e},_createDESCNode:function(t,n){if(""!==n.desc&&n.desc.length<2){var i=e.createElement("div");if(i.setAttribute("style",n.cls.boxCls),("C"==n.desc||"A"==n.desc)&&0!=n.descCount){var a=e.createElement("span");a.setAttribute("style",n.cls.descSCls),a.innerText="共"+n.descCount+"条记录",i.appendChild(a)}if("P"==n.desc||"A"==n.desc){var l=e.createElement("span");l.setAttribute("style",n.cls.descSCls),l.innerText="共"+n.size+"页",i.appendChild(l)}if("O"==n.desc){var l=e.createElement("span");l.setAttribute("style",n.cls.descSCls);var s=e.createElement("em");s.style.fontStyle="normal",s.innerHTML="共检索到";var r=e.createElement("em");r.style.fontStyle="normal",r.style.color="#ff0000",r.innerHTML=n.descCount;var o=e.createElement("em");o.style.fontStyle="normal",o.innerHTML="条记录",l.appendChild(s),l.appendChild(r),l.appendChild(o),i.appendChild(l)}t.appendChild(i)}},_calculateNode:function(e){var t=[];if(2*e.step+3>=e.size)for(var n=0;n<e.size;n++)t.push({txt:n+1,evtName:"main-button"});else if(e.page>e.size-(1*e.step+2)){t.push({txt:1,evtName:"main-button"}),t.push({txt:"..."});for(var n=e.size-(1*e.step+3);n<e.size;n++)t.push({txt:n+1,evtName:"main-button"})}else if(1*e.step+2>=e.page){for(var n=0;n<1*e.step+3;n++)t.push({txt:n+1,evtName:"main-button"});t.push({txt:"..."}),t.push({txt:e.size,evtName:"main-button"})}else{t.push({txt:1,evtName:"main-button"}),t.push({txt:"..."});for(var n=1*e.page-1*e.step;n<=1*e.page+1*e.step;n++)t.push({txt:n,evtName:"main-button"});t.push({txt:"..."}),t.push({txt:e.size,evtName:"main-button"})}return t},_createMainNode:function(t,n,i){var a=e.createElement("div");a.setAttribute("style",i.cls.boxCls);var l=e.createElement("a"),s=i.cls.mainPNCls;1==i.page&&(s+=i.cls.mainPNDISCls),l.setAttribute("style",s),l.setAttribute("main-button","previous"),l.innerText="上一页",a.appendChild(l);for(var r=n._calculateNode(i),o=0;o<r.length;o++){var c=e.createElement("a"),p=i.cls.mainPNCls;i.page==r[o].txt&&(p+=i.cls.mainPNSCls),c.setAttribute("style",p),c.innerText=r[o].txt,r[o].evtName&&c.setAttribute(r[o].evtName,r[o].txt),a.appendChild(c)}var u=e.createElement("a");u.setAttribute("main-button","next");var d=i.cls.mainPNCls;i.page==i.size&&(d+=i.cls.mainPNDISCls),u.setAttribute("style",d),u.innerText="下一页",a.appendChild(u);var m=e.createElement("span");m.setAttribute("style",i.cls.mainPNCls+i.cls.mainGOTCls),m.innerText="跳转到：",a.appendChild(m);var b=e.createElement("input");b.value=i.page,b.setAttribute("main-input","input"),b.setAttribute("style",i.cls.mainGOICls),a.appendChild(b),t.appendChild(a);var m=e.createElement("a");m.setAttribute("main-button","go"),m.setAttribute("style",i.cls.mainPNCls+i.cls.mainGOBCls),m.innerText="GO",a.appendChild(m)},_createMultiNode:function(t,n){if("S"==n.multi){var i=e.createElement("div");i.setAttribute("style",n.cls.boxCls);var a=e.createElement("span");a.setAttribute("style",n.cls.mainPNCls+n.cls.mainGOTCls+n.cls.multiDFCls),a.innerText="每页显示",i.appendChild(a);var l=e.createElement("select");l.setAttribute("main-select","select"),l.setAttribute("style",n.cls.mainGOICls+n.cls.mainSELECTCls);for(var s=[20,50,100],r=0;r<s.length;r++){var o=e.createElement("option");o.innerText=s[r],0!=n.multiCheck&&s[r]==n.multiCheck&&o.setAttribute("selected","true"),l.appendChild(o),i.appendChild(l)}var c=e.createElement("span");c.setAttribute("style",n.cls.mainPNCls+n.cls.mainGOTCls+n.cls.multiDCls),c.innerText="条记录",i.appendChild(c),t.appendChild(i)}},_createNode:function(){var t=this,n=t.options,i=e.createElement("div");i.setAttribute("style",n.cls.bodyCls),n.elNode.appendChild(i),t._createDESCNode(i,n),t._createMainNode(i,t,n),t._createMultiNode(i,n)},_init:function(){var e=this,t=e.options;t.elNode.style.position="relative",t.elNode.innerHTML="",e._createNode()},_bindEvent:function(){var e=this,n=e.options;t(this.options.elNode).unbind("click").on("click","a[main-button]",function(i){var a=t(i.target).attr("main-button");if(1*a!=1*n.page){switch(a){case"previous":if(1==n.page)return;n.page=--n.page;break;case"next":if(n.page==n.size)return;n.page=++n.page;break;case"go":var l=t(i.target).siblings('input[main-input="input"]')[0],s=t.trim(t(l).val());if(/^[0-9]*$/.test(s)&&0!=s){if(s==n.page)return;s>n.size?n.page=n.size:n.page=s}else n.page=1;break;default:if(!/^[0-9]*$/.test(a))return;n.page=a}n.callback&&n.callback(n.page),e._init()}}).unbind("change").on("change",'select[main-select="select"]',function(i){var a=t(i.target),l=a.find("option:selected").text();n.multiCallback(l,function(t){n.size=t,n.page=1,n.multiCheck=l,e._init()})})}},"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):window.RtlPaging=n}(document,jQuery);